{% extends "base.html" %}
{% block content %}
<div>
    <div class="topnav">
        <a class="active" href="/">Home Page</a>
        <a class="active" href="/admin">Admin Page</a>
    </div>
    <div id="content" class="container-fluid">
        <div class="pt-2">
            <h2>Update Products</h2>
        </div>
        <form method="post" action="{{ url_for('update', id=id) }}" enctype="multipart/form-data" class="form">
            <div class="row">
                <div class="col">
                    <label for="description" class="form-label">Description:</label>
                    <input type="text" name="description" class="form-control" value="{{ data[1] }}" required>
                </div>
                <div class="col">
                    <label for="availability" class="form-label">Availability:</label>
                    <input type="number" name="availability" class="form-control" value="{{ data[2] }}" required>
                </div>
                <div class="col">
                    <label for="price" class="form-label">Price:</label>
                    <input type="number" name="price" step="0.01" class="form-control" value="{{ data[3] }}" required>
                </div>
                <div class="col-md-1">
                    <label for="image_file" class="form-label">Image File:</label>
                    <input type="file" name="image_file" class="form-control-file" accept=".png, .jpg, .jpeg, .gif">
                </div>
                <div class="col-md-1">
                    <button type="submit" id="btnSubmit" class="btn btn-dark">Update</button>
                </div>
            </div>
        </form>
        <div class="pt-3 pb-3">
            <table class="table table-striped table-success">
                <tr>
                    <th>ID</th>
                    <th>Description</th>
                    <th>Availability</th>
                    <th>Price</th>
                    <th>Image</th>
                </tr>
                <tr>
                    <td>{{ data[0] }}</td>
                    <td>{{ data[1] }}</td>
                    <td>{{ data[2] }}</td>
                    <td>${{ '{:,.2f}'.format(data[3]) }}</td>
                    <td>
                        <img src="data:image/png;base64,{{ data[4] }}" alt="product_image"
                            style="max-width: 35px; max-height: 35px;">
                    </td>
                </tr>
            </table>
        </div>

    </div>
</div>
{% endblock %}